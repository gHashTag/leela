{"version":3,"names":["_env_1","require","native_1","Sentry","__importStar","axios_1","__importDefault","react_native_1","react_native_rate_1","i18n_1","store_1","exports","navRef","createNavigationContainerRef","navigate","name","params","isReady","generateComment","_ref2","_asyncToGenerator2","default","_ref","message","systemMessage","planText","_response$data$choice","_response$data","_response$data$choice2","_response$data$choice3","response","post","model","messages","role","content","max_tokens","temperature","headers","Authorization","OPEN_AI_KEY","data","choices","error","captureException","_x","apply","arguments","onLeaveFeedback","onAction","options","AppleAppID","GooglePackageName","OtherAndroidURL","preferInApp","openAppStoreIfInAppFails","rate","handleCommentAi","_ref4","_ref3","curItem","_ref3$planText","aiComment","PostStore","createComment","text","postId","id","postOwner","ownerId","LEELA_ID","_x2","OpenNetworkModal","OpenUpdateVersionModal","OpenExitModal","OpenVideoModal","_ref5","uri","poster","OpenPlanReportModal","plan","OpenActionsModal","modalButtons","buttons","banAlert","Alert","alert","t","onPress","accountHasBanAlert","undefined","target","console","log","__DEV__","win","Dimensions","get","W","width","H","height","imgH","Math","round","isIos","Platform","OS","openUrl","_ref6","url","Linking","openURL","_x3","goBack","goHome","navigation","popToTop","primary","secondary","gray","white","black","dimGray","lightGray","classicRose","mustard","fuchsia","trueBlue","paleBlue","brightTurquoise","red","orange","blackOpacity","grayBlackOpacity","revenuecat","defUrl","ENTITLEMENT_ID"],"sources":["/Users/playra/leela/src/constants.ts"],"sourcesContent":["//@ts-expect-error\nimport { LEELA_ID, OPEN_AI_KEY } from '@env'\nimport { createNavigationContainerRef } from '@react-navigation/native'\nimport * as Sentry from '@sentry/react-native'\nimport axios from 'axios'\nimport { Alert, Dimensions, Linking, Platform } from 'react-native'\nimport Rate from 'react-native-rate'\nimport i18next from './i18n'\n\nimport { PostStore } from './store'\nimport { ButtonsModalT, HandleCommentAiParamsT, MessageAIT } from './types'\n\nexport const navRef = createNavigationContainerRef<any>()\n\nexport const navigate = (name: string, params?: any) => {\n  if (navRef.isReady()) {\n    navRef.navigate(name, params)\n  }\n}\n\nexport const generateComment = async ({\n  message,\n  systemMessage,\n  planText\n}: MessageAIT): Promise<string> => {\n  try {\n    const response = await axios.post(\n      'https://api.openai.com/v1/chat/completions',\n      {\n        model: 'gpt-4-0314',\n        messages: [\n          {\n            role: 'system',\n            content: systemMessage\n          },\n          {\n            role: 'user',\n            content: message\n          },\n          {\n            role: 'assistant',\n            content: planText\n          }\n        ],\n        max_tokens: 1000,\n        temperature: 0.5\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${OPEN_AI_KEY}`,\n          'Content-Type': 'application/json'\n        }\n      }\n    )\n\n    return response?.data?.choices[0]?.message?.content ?? ''\n  } catch (error) {\n    captureException(error, 'generateComment')\n    throw error\n  }\n}\n\nexport const onLeaveFeedback = (onAction: (success: any) => void) => {\n  const options = {\n    AppleAppID: '1296604457',\n    GooglePackageName: 'com.leelagame',\n    OtherAndroidURL:\n      'https://play.google.com/store/apps/details?id=com.leelagame',\n    preferInApp: true,\n    openAppStoreIfInAppFails: true\n  }\n  Rate.rate(options, onAction)\n}\n\nexport const handleCommentAi = async ({\n  curItem,\n  systemMessage,\n  message,\n  planText = ' '\n}: HandleCommentAiParamsT): Promise<void> => {\n  const aiComment: string = await generateComment({\n    message,\n    systemMessage,\n    planText\n  })\n  if (curItem && aiComment) {\n    await PostStore.createComment({\n      text: aiComment,\n      postId: curItem.id,\n      postOwner: curItem.ownerId,\n      ownerId: LEELA_ID\n    })\n  }\n}\n\nexport function OpenNetworkModal() {\n  if (navRef.isReady()) {\n    navRef.navigate('NETWORK_MODAL')\n  }\n}\n\nexport function OpenUpdateVersionModal() {\n  if (navRef.isReady()) {\n    navRef.navigate('UPDATE_VERSION_MODAL')\n  }\n}\n\nexport function OpenExitModal() {\n  if (navRef.isReady()) {\n    navRef.navigate('EXIT_MODAL')\n  }\n}\n\ninterface VideoModalT {\n  uri: string\n  poster: string\n}\n\nexport function OpenVideoModal({ uri, poster }: VideoModalT) {\n  if (navRef.isReady()) {\n    navRef.navigate('VIDEO_SCREEN', { uri, poster })\n  }\n}\n\nexport function OpenPlanReportModal(plan: number) {\n  if (navRef.isReady()) {\n    navRef.navigate('PLAN_REPORT_MODAL', { plan })\n  }\n}\n\nexport function OpenActionsModal(modalButtons: ButtonsModalT[]) {\n  if (navRef.isReady()) {\n    navRef.navigate('REPLY_MODAL', { buttons: modalButtons })\n  }\n}\n\nexport const banAlert = () => {\n  Alert.alert(\n    i18next.t('online-part.youBanned'),\n    i18next.t('online-part.banText'),\n    [{ text: 'OK', onPress: () => navigate('HELLO') }]\n  )\n}\nexport const accountHasBanAlert = () => {\n  Alert.alert(i18next.t('online-part.accountBanned'), undefined, [\n    { text: 'OK' }\n  ])\n}\n\nexport const captureException = (error: any, target: string) => {\n  if (!error) {\n    console.log(\n      '%c captureException called with messing or incorrect arguments',\n      'background: #555; color: yellow'\n    )\n    return\n  }\n  console.error(`On:${target}/ My Error: ${error} `)\n  if (!__DEV__) {\n    Sentry.captureException(error)\n  }\n}\n\nexport const win = Dimensions.get('window')\nexport const W = win.width\nexport const H = win.height\nexport const imgH = Math.round((W * 9) / 16)\nexport const isIos = Platform.OS === 'ios'\n\nexport const openUrl = async (url: string) => {\n  await Linking.openURL(url)\n}\n\nexport const goBack = () => {\n  if (navRef.isReady()) {\n    navRef.goBack()\n  }\n}\n//@ts-ignore\nexport const goHome = (navigation) => () => navigation.popToTop()()\n\nexport const primary = '#50E3C2'\nexport const secondary = '#ff06f4'\nexport const gray = '#949494'\nexport const white = '#ffffff'\nexport const black = '#1c1c1c'\nexport const dimGray = '#707070'\nexport const lightGray = '#D1CDCD'\nexport const classicRose = '#FDBEEA'\nexport const mustard = '#F3DE50'\nexport const fuchsia = '#FF06F4'\nexport const trueBlue = '#007ACD'\nexport const paleBlue = '#BEFCE5'\nexport const brightTurquoise = '#1EE4EC'\nexport const red = '#FC2847'\nexport const orange = '#FFB700'\nexport const blackOpacity = 'rgba(0, 0, 0, 0.8)'\nexport const grayBlackOpacity = 'rgba(139, 139, 139, 0.1)'\n\nexport const revenuecat = 'BeIMIIfptWXlouosYudFEWQDkwDvJUzv'\n\nexport const defUrl =\n  'https://leelachakra.com/resource/LeelaChakra/Mantra/mantra.json'\n\nexport const ENTITLEMENT_ID = 'Pro'\n"],"mappings":"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"}