{"version":3,"names":["async_storage_1","__importDefault","require","mobx_1","mobx_persist_store_1","i18n_1","helper_1","_1","constants_1","exports","initStore","start","finish","plans","histories","createDate","Date","now","plan","count","status","OfflinePlayers","store","makeAutoObservable","Object","assign","resetGame","_resetGame","_asyncToGenerator2","default","actionsDice","resetPlayer","clear","navigate","apply","arguments","startGame","setMessage","t","updateStep","id","upStepOffline","makePersistable","name","properties"],"sources":["/Users/playra/leela/src/store/OfflinePlayers.ts"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage'\nimport { makeAutoObservable } from 'mobx'\nimport { makePersistable } from 'mobx-persist-store'\nimport i18next from '../i18n'\n\nimport { upStepOffline } from './helper'\n\nimport { actionsDice } from './'\nimport { navigate } from '../constants'\nimport { HistoryT } from '../types'\n\nexport const initStore = {\n  start: [false, false, false, false, false, false],\n  finish: [false, false, false, false, false, false],\n  plans: [68, 68, 68, 68, 68, 68],\n  histories: [\n    [{ createDate: Date.now(), plan: 68, count: 0, status: 'start' }],\n    [{ createDate: Date.now(), plan: 68, count: 0, status: 'start' }],\n    [{ createDate: Date.now(), plan: 68, count: 0, status: 'start' }],\n    [{ createDate: Date.now(), plan: 68, count: 0, status: 'start' }],\n    [{ createDate: Date.now(), plan: 68, count: 0, status: 'start' }],\n    [{ createDate: Date.now(), plan: 68, count: 0, status: 'start' }],\n    [{ createDate: Date.now(), plan: 68, count: 0, status: 'start' }]\n  ]\n}\n\nexport const OfflinePlayers = {\n  store: makeAutoObservable<OfflinePlayersI>({ ...initStore }),\n  async resetGame(): Promise<void> {\n    actionsDice.resetPlayer()\n    await AsyncStorage.clear()\n    /* вы подумаете тут можно это все заменить 1 строчкой:\n    `` OfflinePlayers.store = {...initStore} ``, а нет. Так\n    в persist-store результат не сохраняется */\n    OfflinePlayers.store.plans = initStore.plans\n    OfflinePlayers.store.start = initStore.start\n    OfflinePlayers.store.histories = initStore.histories\n    OfflinePlayers.store.finish = initStore.finish\n    navigate('HELLO')\n  },\n  startGame() {\n    actionsDice.setMessage(i18next.t('sixToBegin'))\n  },\n  updateStep(id: number): void {\n    upStepOffline(id)\n  }\n}\n\nmakePersistable(OfflinePlayers.store, {\n  name: 'OfflinePlayers',\n  properties: ['plans', 'start', 'histories', 'finish']\n})\n\ninterface OfflinePlayersI {\n  start: boolean[]\n  finish: boolean[]\n  plans: number[]\n  histories: HistoryT[][]\n}\n"],"mappings":"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"}