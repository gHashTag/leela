ae5d900fc4a0b7b162c1de1eed47c327
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = extractPathFromURL;
var _escapeStringRegexp = _interopRequireDefault(require("escape-string-regexp"));
function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
function extractPathFromURL(prefixes, url) {
  for (var prefix of prefixes) {var _ref;
    var _prefix$match;
    var protocol = (_ref = (_prefix$match = prefix.match(/^[^:]+:/)) === null || _prefix$match === void 0 ? void 0 : _prefix$match[0]) != null ? _ref : '';
    var host = prefix.replace(new RegExp("^" + (0, _escapeStringRegexp.default)(protocol)), '').replace(/\/+/g, '/').
    replace(/^\//, '');

    var prefixRegex = new RegExp("^" + (0, _escapeStringRegexp.default)(protocol) + "(/)*" + host.split('.').map(function (it) {return it === '*' ? '[^/]+' : (0, _escapeStringRegexp.default)(it);}).join('\\.'));
    var normalizedURL = url.replace(/\/+/g, '/');
    if (prefixRegex.test(normalizedURL)) {
      return normalizedURL.replace(prefixRegex, '');
    }
  }
  return undefined;
}